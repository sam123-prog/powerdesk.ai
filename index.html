<!DOCTYPE html>
<!-- saved from url=(0032)file:///C:/Users/Dell/index.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Powerdesk.ai</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            text-align: center;
        }
        /* Navigation Bar */
        
        nav {
            background-color: #222;
            padding: 15px 0;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            margin: 0 20px;
            font-size: 22px;
            font-weight: bold;
        }
        
        nav a:hover {
            color: #8b5cf6;
            text-decoration: underline;
        }
        /* Page Heading */
        
        h1 {
            margin-top: 40px;
            font-size: 28px;
        }
        /* Message Form */
        
        form {
            margin-top: 40px;
        }
        
        input[type="text"] {
            padding: 10px;
            width: 300px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
        }
        
        button {
            padding: 10px 20px;
            margin-left: 10px;
            background-color: #8b5cf6;
            border: none;
            border-radius: 6px;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
        
        button:hover {
            background-color: #a78bfa;
        }
        /* Footer */
        
        footer {
            margin-top: 60px;
            font-size: 14px;
            color: gray;
        }
    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <nav>
        <a href="Powerdesk.ai.html">Powerdesk.ai</a>
        <a href="history.html">History</a>
        <a href="guidelines.html">Guidelines</a>
    </nav>


    <!-- Heading -->
    <h1>Powerdesk.ai - Custom Message</h1>

    


    <!-- Message Input Form -->
    <form id="messageForm">
        <input type="text" id="messageInput" placeholder="Enter your message" required="">
        <button type="submit">Send Command</button>
    </form>

    <!-- Div to show response from backend -->
    <div id="response" style="margin-top: 20px; padding: 15px; background-color: #333; border-radius: 8px; max-width: 500px; margin-left: auto; margin-right: auto; display: none;"></div>

    <footer>
        Â© 2025 Powerdesk.ai | All Rights Reserved
    </footer>

    <script>
        const form = document.getElementById('messageForm');
        const input = document.getElementById('messageInput');
        const responseDiv = document.getElementById('response');

        form.addEventListener('submit', async (event) => {
            event.preventDefault(); // stop form from reloading page
            const message = input.value.trim();
            if (message) {
                try {
                    const res = await fetch('/api/chat', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        // Add context so backend knows this is the main ticketing bot
                        body: JSON.stringify({ message: message, context: 'powerdesk_main' })
                    });
                    const data = await res.json();
                    responseDiv.textContent = data.reply || data.error || 'An unknown error occurred.';
                    responseDiv.style.display = 'block';
                } catch (err) {
                    responseDiv.textContent = 'Error communicating with the server.';
                    responseDiv.style.display = 'block';
                    console.error(err);
                } finally {
                    input.value = ""; // clear input box
                }
            }
        });
    </script>


</body>

<!-- Chat widget -->
<link rel="stylesheet" href="assets/chat.css">
<script src="assets/chat-widget.js" defer></script>
</html>
