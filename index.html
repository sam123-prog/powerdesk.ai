<!DOCTYPE html>
<!-- saved from url=(0032)file:///C:/Users/Dell/index.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Powerdesk.ai</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            text-align: center;
        }
        /* Navigation Bar */
        
        nav {
            background-color: #222;
            padding: 15px 0;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            margin: 0 20px;
            font-size: 22px;
            font-weight: bold;
        }
        
        nav a:hover {
            color: #8b5cf6;
            text-decoration: underline;
        }
        /* Page Heading */
        
        h1 {
            margin-top: 40px;
            font-size: 28px;
        }
        /* Message Form */
        
        form {
            margin-top: 40px;
        }
        
        input[type="text"] {
            padding: 10px;
            width: 300px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
        }
        
        button {
            padding: 10px 20px;
            margin-left: 10px;
            background-color: #8b5cf6;
            border: none;
            border-radius: 6px;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
        
        button:hover {
            background-color: #a78bfa;
        }
        /* Footer */
        
        footer {
            margin-top: 60px;
            font-size: 14px;
            color: gray;
        }
    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <nav>
        <a href="Powerdesk.ai.html">Powerdesk.ai</a>
        <a href="history.html">History</a>
        <a href="guidelines.html">Guidelines</a>
    </nav>


    <!-- Heading -->
    <h1>Powerdesk.ai - Custom Message</h1>

    <!-- Main rectangular Powerdesk AI chat (primary) -->
    <div style="max-width:900px;margin:20px auto;text-align:left;">
        <div style="background:#081726;border-radius:12px;padding:18px;color:#e6eef8;">
            <h2 style="margin:0 0 12px 0;color:#b5aaff">Powerdesk AI</h2>
            <div id="mainChatMessages" style="background:#021017;padding:12px;border-radius:8px;min-height:160px;max-height:420px;overflow:auto;color:#dbeafe"></div>
            <form id="mainChatForm" style="display:flex;gap:8px;margin-top:12px;align-items:center;">
                <textarea id="mainChatInput" placeholder="Type your message to Powerdesk AI..." style="flex:1;padding:10px;border-radius:8px;border:none;min-height:48px;max-height:120px;resize:none;background:#03121a;color:#e6eef8"></textarea>
                <button type="submit" style="padding:10px 14px;border-radius:8px;border:none;background:linear-gradient(90deg,#06b6d4,#8b5cf6);color:white;font-weight:600;">Send</button>
            </form>
            <p style="color:#94a3b8;font-size:13px;margin-top:10px;">Support chat (customer-facing) runs from the floating button at the bottom-right.</p>
            <p style="color:#94a3b8;font-size:12px;margin-top:4px;">Admin: <a href="/admin.html" style="color:#b5aaff">Messages</a></p>
        </div>
    </div>
    <footer>
        © 2025 Powerdesk.ai | All Rights Reserved
    </footer>

    <!-- Floating customer-support widget remains at bottom-right -->
    <script>
        // Main Powerdesk AI chat logic (rectangular primary chat)
        (function(){
            const form = document.getElementById('mainChatForm');
            const input = document.getElementById('mainChatInput');
            const messagesEl = document.getElementById('mainChatMessages');

            function addMessage(text, who='bot'){
                const el = document.createElement('div');
                el.style.margin = '8px 0';
                el.style.padding = '10px 12px';
                el.style.borderRadius = '10px';
                el.style.maxWidth = '85%';
                el.style.whiteSpace = 'pre-wrap';
                if(who==='user'){
                    el.style.background = 'linear-gradient(90deg,#8b5cf6,#6a8df0)';
                    el.style.color = 'white';
                    el.style.marginLeft = 'auto';
                } else {
                    el.style.background = '#0a2a37';
                    el.style.color = '#dbeafe';
                    el.style.marginRight = 'auto';
                }
                el.textContent = text;
                messagesEl.appendChild(el);
                messagesEl.scrollTop = messagesEl.scrollHeight;
            }

            async function sendToServer(text){
                addMessage(text,'user');
                try{
                    const res = await fetch('/api/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:text,page:window.location.href, support:false})});
                    const data = await res.json();
                    if(data?.reply) addMessage(data.reply,'bot'); else addMessage('No reply','bot');
                }catch(e){ addMessage('Error contacting server','bot'); console.error(e); }
            }

            form.addEventListener('submit',(e)=>{
                e.preventDefault();
                const txt = input.value.trim();
                if(!txt) return;
                input.value='';
                sendToServer(txt);
            });

            // welcome
            addMessage('Welcome to Powerdesk AI — ask me anything.');
        })();
    </script>


</body>

<!-- Chat widget -->
<link rel="stylesheet" href="assets/chat.css">
<script src="assets/chat-widget.js" defer></script>
</html>
